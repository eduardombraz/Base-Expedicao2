name: ðŸš€ ExportaÃ§Ã£o AutomÃ¡tica Shopee  
  
on:  
  schedule:  
    - cron: '*/60 * * * *'  # Executa a cada 5 minutos  
  workflow_dispatch:        # Permite execuÃ§Ã£o manual  
  
jobs:  
  run-script:  
    name: ðŸš€ Executar ExportaÃ§Ã£o Shopee  
    runs-on: ubuntu-latest  
  
    steps:  
      - name: ðŸ” Checkout do cÃ³digo  
        uses: actions/checkout@v3  
  
      - name: ðŸ Instalar Python  
        uses: actions/setup-python@v4  
        with:  
          python-version: '3.10'  
  
      - name: ðŸ” Restaurar hxh.json a partir do segredo  
        run: |  
          echo "$GCP_JSON_BASE64" | base64 -d > hxh.json  
        shell: bash  
        env:  
          GCP_JSON_BASE64: ${{ secrets.GCP_JSON_BASE64 }}  
  
      - name: ðŸ“¦ Instalar dependÃªncias  
        run: |  
          python -m pip install --upgrade pip  
          pip install -r requirements.txt  
          playwright install chromium  
  
      - name: ðŸš€ Executar o script  
        run: xvfb-run python main.py  
        env:  
          SHOPEE_USER: ${{ secrets.SHOPEE_USER }}  
          SHOPEE_PASS: ${{ secrets.SHOPEE_PASS }}  
        shell: bash 
